<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Avocado Market Research &middot; Chad Bixby</title>
        <meta name="description" content="Analyzing avocado supply and demand">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.48" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Avocado Market Research">
<meta property="og:description" content="Analyzing avocado supply and demand">
<meta property="og:type" content="article">
<meta property="og:url" content="/2018/09/13/avocados/">
        <link rel="stylesheet" href="/dist/styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
    </head>
    <body>
        
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-125431650-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>


        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="Home" href="/">Home</a>
                            </h1>
                        
                        <a class="button-square" href="/index.xml"><i class="fa fa-rss"></i></a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/bixby96">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="LinkedIn" title="LinkedIn" href="https://linkedin.com/in/chadbixby">
                                <i class="fa fa-linkedin"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" title="Email" href="mailto:chadbixby15@gmail.com">
                                <i class="fa fa-envelope"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Posts" href="/post/">Posts</a>
    </li>

    <li class="site-nav-item">
        <a title="Contact" href="/page/contact/">Contact</a>
    </li>

    <li class="site-nav-item">
        <a title="About" href="/page/about/">About</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Avocado Market Research</h1>
    
        <p class="post-description" itemprop="description">Analyzing avocado supply and demand</p>
    
    <p class="post-date">
        <span>Published <time datetime="2018-09-13" itemprop="datePublished">Sep 13, 2018</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="https://linkedin.com/in/chadbixby" itemprop="url" rel="author">Chad Bixby</a>
            </span>
        </span>
    </p>
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#data-pre-processing">Data Pre-Processing</a><ul>
<li><a href="#load-data">Load Data</a></li>
<li><a href="#load-packages">Load Packages</a></li>
<li><a href="#clean-data">Clean Data</a></li>
</ul></li>
<li><a href="#exploratory-data-analysis">Exploratory Data Analysis</a><ul>
<li><a href="#distribution">Distribution</a></li>
<li><a href="#avocado-prices">Avocado Prices</a></li>
<li><a href="#avocado-volume">Avocado Volume</a></li>
</ul></li>
<li><a href="#elasticity">Elasticity</a></li>
</ul>
</div>

<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The following report intends to analyze avocado prices and sales volume from 2015 to early 2018 across the US. In addition to a thorough exploratory analysis, I’ll also try to calculate the price elasticity of demand for each individual market. The dataset comes from the <a href="http://www.hassavocadoboard.com/">Hass Avocado Board</a>.</p>
<center>
<a id='JG4UGGuQRmpRoiIpLv_qhQ' class='gie-single' href='http://www.gettyimages.com/detail/880599028' target='_blank' style='color:#a7a7a7;text-decoration:none;font-weight:normal !important;border:none;display:inline-block;'>Embed from Getty Images</a>
<script>window.gie=window.gie||function(c){(gie.q=gie.q||[]).push(c)};gie(function(){gie.widgets.load({id:'JG4UGGuQRmpRoiIpLv_qhQ',sig:'N6lPd_OPn_K7igBz9eUfQK5NML4OwTpfOsG8GwtiA8s=',w:'511px',h:'339px',items:'880599028',caption: false ,tld:'com',is360: false })});</script>
<script src='//embed-cdn.gettyimages.com/widgets.js' charset='utf-8' async></script>
</center>
</div>
<div id="data-pre-processing" class="section level2">
<h2>Data Pre-Processing</h2>
<div id="load-data" class="section level3">
<h3>Load Data</h3>
<pre class="r"><code>#load avocado data
load(file = &quot;avocados.Rda&quot;)</code></pre>
</div>
<div id="load-packages" class="section level3">
<h3>Load Packages</h3>
<pre class="r"><code>library(tidyverse)
library(scales)
library(plotly)
library(wesanderson)</code></pre>
</div>
<div id="clean-data" class="section level3">
<h3>Clean Data</h3>
<p>The dataset contains weekly average prices and total amount sold for both organic and conventional avocados for 45 different markets (New York, Boise, St. Louis, etc.) that make up 8 larger regions (California, Great Lakes, Midsouth, Northeast, Plains, South Central, Southeast, and West). I’ll create three different datasets: one containing the 45 markets, one for the 8 larger regions, and one for entire US. Also, three price lookup codes (PLU’s) are listed, but for Hass avocados only, so I’ll create another variable to hold the rest of avocados (e.g. green-skinned) sold per week.</p>
<pre class="r"><code>#replace spaces with underscores in column names
names(avocados) &lt;- gsub(&quot; &quot;, &quot;_&quot;, names(avocados))

#rename PLU codes and tidy up data
avocados &lt;- avocados %&gt;%
  rename(small_hass = &quot;4046&quot;, large_hass = &quot;4225&quot;, xl_hass = &quot;4770&quot;) %&gt;%
  mutate(other = Total_Volume - small_hass - large_hass - xl_hass) %&gt;%
  gather(bag_size, bag_total, c(Small_Bags, Large_Bags, XLarge_Bags)) %&gt;%
  gather(avocado_type, avocado_volume, c(small_hass, large_hass, xl_hass,
                                         other)) 

#subset data by region
avocados_region &lt;- avocados %&gt;%
  filter(region %in% c(&quot;California&quot;, &quot;West&quot;, &quot;SouthCentral&quot;, &quot;GreatLakes&quot;,
                       &quot;Midsouth&quot;, &quot;Southeast&quot;, &quot;Northeast&quot;, &quot;Plains&quot;)) 

#subset data by market (city)
avocados_market &lt;- avocados %&gt;%
  filter(!(region %in% c(&quot;California&quot;, &quot;West&quot;, &quot;SouthCentral&quot;, &quot;GreatLakes&quot;,
                       &quot;Midsouth&quot;, &quot;Southeast&quot;, &quot;Northeast&quot;, &quot;Plains&quot;,
                       &quot;TotalUS&quot;)))

#dataset for entire US
avocados_total &lt;- avocados %&gt;%
  filter(region == &quot;TotalUS&quot;)</code></pre>
<p>Let’s make sure we don’t have any missing values</p>
<pre class="r"><code>paste(sum(is.na(avocados_market)),
sum(is.na(avocados_region)),
sum(is.na(avocados_total)))</code></pre>
<pre><code>## [1] &quot;0 0 0&quot;</code></pre>
<p>Bravocado! Also, let’s see if there are any hidden markets that make up a region.</p>
<pre class="r"><code>cat(paste(&quot;Market Volume:&quot;,
sum(avocados_market$avocado_volume),&quot;\n&quot;),
paste(&quot;Region Volume:&quot;,
sum(avocados_region$avocado_volume), &quot;\n&quot;),
paste(&quot;Total Volume:&quot;,
sum(avocados_total$avocado_volume)))</code></pre>
<pre><code>## Market Volume: 11381766688.74 
##  Region Volume: 17594220546.06 
##  Total Volume: 17594220545.4</code></pre>
<p>So it looks like some avocados (6,212,453,857 to be exact) were sold over the past few years in markets not found in the dataset. But the eight regions do in fact contain the entirety of US avocado sales (minus rounding error).</p>
</div>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2>Exploratory Data Analysis</h2>
<div id="distribution" class="section level3">
<h3>Distribution</h3>
<p>Alright now that we understand the data, I think it’s time for some exploratory data analysis! First, let’s look at how the prices of organic and conventional avocados are distributed.</p>
<p><img src="/post/avocados_files/figure-html/plots-1.png" width="672" /></p>
<p>Not surprisingly, organic avocados are generally priced higher than conventional ones. The dashed vertical line in the middle represents the average weekly price for all avocados, $1.37. Next, let’s look at how prices have varied over time.</p>
</div>
<div id="avocado-prices" class="section level3">
<h3>Avocado Prices</h3>
<iframe width="800" height="550" frameborder="0" scrolling="no" src="//plot.ly/~bixby96/9.embed?link=false&amp;logo=false">
</iframe>
<p>A couple of things stick out to me. Avocados reached a 3-year high in late summer 2017. Also the apocalyptic organic price drop around July 2015. My guess is that there was some missing data for US total organic avocado prices in July 2015 that got imputed as $1.00. Let’s check the price movement for each region to see if any sharp declines in July 2015 exist.</p>
<p><img src="/post/avocados_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Nothing out of the ordinary here. Organic prices never dropped below conventional prices in each region. I will just leave the US dataset as is and focus the rest of my analysis on the region dataset. Now, let’s see how avocado prices vary across regions.</p>
<p><img src="/post/avocados_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>The Northeast region sells avocados at the highest average price. Now, let’s determine which size of avocados each region buys.</p>
</div>
<div id="avocado-volume" class="section level3">
<h3>Avocado Volume</h3>
<p><img src="/post/avocados_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>The South Central, California, and West regions make up the three largest avocado regions by volume. The Northeast region sells the most Large Hass avocados (both proportionally to total regional sales and overall) which probably contributes to them having the highest average price. With that said, let’s look at how each market consumes avocados.</p>
<p><img src="/post/avocados_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The LA market appears to be ripe for avocados; it doubles the second largest market (New York) in terms of volume. Avocados seem to be most popular in western or warm weathered markets. Even smaller markets like Denver and Portland rank near the top among the larger US cities suggesting avocado consumption has a geographical element to it.</p>
</div>
</div>
<div id="elasticity" class="section level2">
<h2>Elasticity</h2>
<p>Finally let’s look at the price elasticity of avocados. We can try to determine which markets avocados are the most price elastic. First, let’s plot total volume against average price for all avocados.</p>
<p><img src="/post/avocados_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Conventional avocados appear to show a linear relationship. It’s hard to make up the shape for the organic avocados so let’s try plotting each type in its own graph. It’s also worth noting that organic avocados are sold in much lower volumes than conventional avocados.</p>
<p><img src="/post/avocados_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>It looks like the organic avocado price vs. sales relationship is more uniform, hinting that it has a less elastic demand than conventional avocados. The linear model seems to do an adequate job of describing the data so, for simplicity, let’s just fit a linear price-response function for all markets and compare their overall elasticities.</p>
<pre class="r"><code>elas &lt;- lapply(unique(avocados_market$region), function(b){
            df &lt;- avocados_market %&gt;%
              filter(region == b)
            m &lt;- lm(Total_Volume ~ AveragePrice, data = df)
            x &lt;- m$coefficients[[&quot;AveragePrice&quot;]]
            y &lt;- mean(df$AveragePrice)
            z &lt;- mean(df$Total_Volume)
            x*y/z
        })

elas &lt;- do.call(rbind, elas) %&gt;%
  data.frame() %&gt;%
  mutate(market = unique(avocados_market$region)) %&gt;%
  mutate(elasticity = round(., 2)) %&gt;%
  select(-c(.))</code></pre>
<iframe width="700" height="700" frameborder="0" scrolling="no" src="//plot.ly/~bixby96/15.embed?link=false&amp;logo=false">
</iframe>
<p>The overall demand for avocados is elastic in all markets. Western markets (especially the Pacific Northwest) are typically less responsive to changes in price than eastern markets. A 10% price increase would cause an 18% drop in demand in Seattle but a 37% drop in New York. The <em>Pit</em>tsburgh market could very well be immune to the avocado craze as a 10% price increase would decrease demand by <strong>58%</strong>, 20% more than the next closest market, fellow Pennsylvanian city, Philadelphia.</p>
</div>

</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/food/">food</a>, 
            
                <a href="/tags/r/">R</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?text=Avocado%20Market%20Research&url=%2f2018%2f09%2f13%2favocados%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=%2f2018%2f09%2f13%2favocados%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
            </a>
        

        
        
            <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&title=Avocado%20Market%20Research&url=%2f2018%2f09%2f13%2favocados%2f&summary=Analyzing%20avocado%20supply%20and%20demand"
               onclick="window.open(this.href, 'linkedin-share', 'width=554,height=481');return false;">
               <i class="fa fa-linkedin"></i>
               <span class="hidden">LinkedIn</span>
            </a>
        
    </div>
</footer>

        
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "chad-bixby" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="Home" href="/">Home</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2018 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="/js/jquery-1.11.3.min.js"></script>
        <script src="/js/jquery.fitvids.js"></script>
        
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        <script src="/js/scripts.js"></script>
    </body>
</html>

