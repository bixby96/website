---
title: 'MLB: Ejections and Replay Review'
author: ''
date: '2018-09-27'
slug: mlb-ejections
categories: []
tags: ["sports"]
description: 'A Case for Automated Strikezones'
output:
  blogdown::html_page:
    toc: true
draft: true
---


<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#load-packages">Load Packages</a></li>
</ul>
</div>

<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>The 2014 MLB season marked the first time a team could utilize instant replay to challenge an umpire’s ruling. Although technically introduced in 2008, previously only home run boundary calls could be reviewed at the umpires discretion. Now with less time spent arguing safe/out calls and more time consulting replay officials in New York, there seems to be less opportunity for players and managers to argue and get ejected. But let’s consult the data first. I looked at ten years (2008-17) of ejection data coming from (UEFL Portal)[<a href="http://portal.closecallsports.com/" class="uri">http://portal.closecallsports.com/</a>] to see if I could find any noticeable patterns. The following code and graphs are shown below:</p>
</div>
<div id="load-packages" class="section level3">
<h3>Load Packages</h3>
<pre class="r"><code>library(tidyverse)
library(readxl)
library(lubridate)</code></pre>
<pre class="r"><code>map(ejections, names)</code></pre>
<pre><code>## $`2017 Ejections`
##  [1] &quot;Date&quot;        &quot;E#&quot;          &quot;P#&quot;          &quot;M#&quot;          &quot;U#&quot;         
##  [6] &quot;Pos&quot;         &quot;Umpire&quot;      &quot;Team&quot;        &quot;Ej Pos&quot;      &quot;Name&quot;       
## [11] &quot;H&quot;           &quot;AB&quot;          &quot;W/L Pre-&quot;    &quot;W/L Final&quot;   &quot;RS&quot;         
## [16] &quot;RA&quot;          &quot;Inn&quot;         &quot;T/B&quot;         &quot;Reason&quot;      &quot;O/D&quot;        
## [21] &quot;Play Result&quot; &quot;E-QOC&quot;       &quot;1 / 2&quot;       &quot;CC&quot;          &quot;Day of Week&quot;
## [26] &quot;AAA&quot;        
## 
## $`2016 Ejections`
##  [1] &quot;Date&quot;        &quot;E#&quot;          &quot;P#&quot;          &quot;M#&quot;          &quot;U#&quot;         
##  [6] &quot;Pos&quot;         &quot;Umpire&quot;      &quot;EU#&quot;         &quot;Team&quot;        &quot;Ej Pos&quot;     
## [11] &quot;Name&quot;        &quot;H&quot;           &quot;AB&quot;          &quot;W/L Pre-&quot;    &quot;W/L Final&quot;  
## [16] &quot;RS&quot;          &quot;RA&quot;          &quot;Inn&quot;         &quot;T/B&quot;         &quot;Reason&quot;     
## [21] &quot;O/D&quot;         &quot;Play Result&quot; &quot;E-QOC&quot;       &quot;1 / 2&quot;       &quot;CC&quot;         
## [26] &quot;Day of Week&quot; &quot;AAA&quot;        
## 
## $`2015 Ejections`
##  [1] &quot;Date&quot;        &quot;E#&quot;          &quot;P#&quot;          &quot;M#&quot;          &quot;U#&quot;         
##  [6] &quot;Pos&quot;         &quot;Umpire&quot;      &quot;EU#&quot;         &quot;Team&quot;        &quot;Ej Pos&quot;     
## [11] &quot;Name&quot;        &quot;H&quot;           &quot;AB&quot;          &quot;W/L Pre-&quot;    &quot;W/L Final&quot;  
## [16] &quot;RS&quot;          &quot;RA&quot;          &quot;Inn&quot;         &quot;T/B&quot;         &quot;Reason&quot;     
## [21] &quot;O/D&quot;         &quot;Play Result&quot; &quot;E-QOC&quot;       &quot;1 / 2&quot;       &quot;CC&quot;         
## [26] &quot;Day of Week&quot; &quot;AAA&quot;        
## 
## $`2014 Ejections`
##  [1] &quot;Date&quot;        &quot;E#&quot;          &quot;P#&quot;          &quot;M#&quot;          &quot;U#&quot;         
##  [6] &quot;Pos&quot;         &quot;Umpire&quot;      &quot;EU#&quot;         &quot;Team&quot;        &quot;Ej Pos&quot;     
## [11] &quot;Name&quot;        &quot;H&quot;           &quot;AB&quot;          &quot;W/L Pre-&quot;    &quot;W/L Final&quot;  
## [16] &quot;RS&quot;          &quot;RA&quot;          &quot;Inn&quot;         &quot;T/B&quot;         &quot;Reason&quot;     
## [21] &quot;O/D&quot;         &quot;Play Result&quot; &quot;E-QOC&quot;       &quot;1 / 2&quot;       &quot;CC&quot;         
## [26] &quot;Day of Week&quot; &quot;AAA&quot;        
## 
## $`2013 Ejections`
##  [1] &quot;Date&quot;         &quot;E#&quot;           &quot;P#&quot;           &quot;M#&quot;          
##  [5] &quot;U#&quot;           &quot;Pos&quot;          &quot;Umpire&quot;       &quot;IU#&quot;         
##  [9] &quot;Team&quot;         &quot;Ej Pos&quot;       &quot;Ejected Name&quot; &quot;H&quot;           
## [13] &quot;AB&quot;           &quot;W/L Pre-&quot;     &quot;W/L Final&quot;    &quot;RS&quot;          
## [17] &quot;RA&quot;           &quot;Inn&quot;          &quot;T/B&quot;          &quot;Eject Reason&quot;
## [21] &quot;O/D&quot;          &quot;Play Result&quot;  &quot;QOC&quot;          &quot;1 / 2&quot;       
## [25] &quot;CC&quot;           &quot;Day of Week&quot;  &quot;AAA&quot;         
## 
## $`2012 Ejections`
##  [1] &quot;Date&quot;          &quot;E#&quot;            &quot;P#&quot;            &quot;M#&quot;           
##  [5] &quot;U#&quot;            &quot;Pos&quot;           &quot;Umpire&quot;        &quot;U #&quot;          
##  [9] &quot;Team&quot;          &quot;Pos__1&quot;        &quot;Ejected Name&quot;  &quot;H&quot;            
## [13] &quot;AB&quot;            &quot;W/L at time?&quot;  &quot;W/L at final?&quot; &quot;RS&quot;           
## [17] &quot;RA&quot;            &quot;Inn&quot;           &quot;Top/Bot&quot;       &quot;Eject Reason&quot; 
## [21] &quot;O/D&quot;           &quot;Play Result&quot;   &quot;Correct?&quot;      &quot;1,2&quot;          
## [25] &quot;CC&quot;            &quot;Day of Week&quot;   &quot;AAA&quot;          
## 
## $`2011 Ejections`
##  [1] &quot;Date&quot;          &quot;E#&quot;            &quot;P#&quot;            &quot;M#&quot;           
##  [5] &quot;U#&quot;            &quot;Pos&quot;           &quot;Umpire&quot;        &quot;UE#&quot;          
##  [9] &quot;Team&quot;          &quot;Pos__1&quot;        &quot;Ejected Name&quot;  &quot;H&quot;            
## [13] &quot;AB&quot;            &quot;W/L at time?&quot;  &quot;W/L at final?&quot; &quot;RS&quot;           
## [17] &quot;RA&quot;            &quot;Inn&quot;           &quot;Top/Bot&quot;       &quot;Eject Reason&quot; 
## [21] &quot;O/D&quot;           &quot;Play Result&quot;   &quot;Correct?&quot;      &quot;1,2&quot;          
## [25] &quot;Primary Pts&quot;   &quot;Secondary Pts&quot; &quot;AAA&quot;           &quot;Day of Week&quot;  
## 
## $`2010 Ejections`
##  [1] &quot;Date&quot;          &quot;E#&quot;            &quot;P#&quot;            &quot;M#&quot;           
##  [5] &quot;U#&quot;            &quot;Pos&quot;           &quot;Umpire&quot;        &quot;UE#&quot;          
##  [9] &quot;Team&quot;          &quot;Pos__1&quot;        &quot;Ejected Name&quot;  &quot;H&quot;            
## [13] &quot;AB&quot;            &quot;W/L at time?&quot;  &quot;W/L at final?&quot; &quot;RS&quot;           
## [17] &quot;RA&quot;            &quot;Inn&quot;           &quot;Top/Bot&quot;       &quot;Eject Reason&quot; 
## [21] &quot;O/D&quot;           &quot;Play Result&quot;   &quot;Correct?&quot;      &quot;1,2&quot;          
## 
## $`2009 Ejections`
##  [1] &quot;Date&quot;          &quot;E#&quot;            &quot;P#&quot;            &quot;M#&quot;           
##  [5] &quot;U#&quot;            &quot;Pos&quot;           &quot;Umpire&quot;        &quot;UE#&quot;          
##  [9] &quot;Ej Team&quot;       &quot;Pos__1&quot;        &quot;Ejected Name&quot;  &quot;H&quot;            
## [13] &quot;AB&quot;            &quot;W/L at time?&quot;  &quot;W/L at final?&quot; &quot;RS&quot;           
## [17] &quot;RA&quot;            &quot;Inn&quot;           &quot;Top/Bot&quot;       &quot;Eject Reason&quot; 
## [21] &quot;O/D&quot;           &quot;Play Result&quot;   &quot;Correct?&quot;      &quot;1,2&quot;          
## 
## $`2008 Ejections`
##  [1] &quot;Date&quot;          &quot;E#&quot;            &quot;P#&quot;            &quot;M#&quot;           
##  [5] &quot;U#&quot;            &quot;Pos&quot;           &quot;Umpire&quot;        &quot;UE#&quot;          
##  [9] &quot;Ej Team&quot;       &quot;Pos__1&quot;        &quot;Ejected Name&quot;  &quot;H&quot;            
## [13] &quot;AB&quot;            &quot;W/L at time?&quot;  &quot;W/L at final?&quot; &quot;RS&quot;           
## [17] &quot;RA&quot;            &quot;Inn&quot;           &quot;Top/Bot&quot;       &quot;Eject Reason&quot; 
## [21] &quot;O/D&quot;           &quot;Play Result&quot;   &quot;Correct?&quot;      &quot;1,2&quot;</code></pre>
<pre class="r"><code>fix_columns &lt;- function(df){
  new_names &lt;- c(&quot;W/L Pre-&quot; = &quot;W/L at time?&quot; , 
                 &quot;W/L Final&quot; =&quot;W/L at final?&quot;,
                 &quot;Ej Pos&quot; = &quot;Pos__1&quot;)
  df %&gt;%
    rename(!!new_names)
}

ejections[6:10] &lt;- map(ejections[6:10], fix_columns)
ejections[5:10] &lt;- map(ejections[5:10], function(.x) .x %&gt;% rename(&quot;Name&quot; = &quot;Ejected Name&quot;) %&gt;% rename(&quot;Reason&quot; = &quot;Eject Reason&quot;))
ejections[9:10] &lt;- map(ejections[9:10], function(.x) .x %&gt;% rename(&quot;Team&quot; = &quot;Ej Team&quot;))

select_columns&lt;- function(df){
  df %&gt;%
  filter(`W/L Final` != &quot;NA&quot;) %&gt;%
    select(&quot;Date&quot;, &quot;Team&quot;, &quot;Ej Pos&quot;, &quot;Name&quot;, &quot;H&quot;, &quot;AB&quot;, &quot;W/L Pre-&quot;, &quot;W/L Final&quot;, &quot;RS&quot;, &quot;RA&quot;, &quot;AB&quot;, &quot;Inn&quot;, &quot;Reason&quot;, &quot;Play Result&quot;)
}

ejections &lt;- map(ejections, select_columns)

map(ejections, dim)</code></pre>
<pre><code>## $`2017 Ejections`
## [1] 187  13
## 
## $`2016 Ejections`
## [1] 191  13
## 
## $`2015 Ejections`
## [1] 216  13
## 
## $`2014 Ejections`
## [1] 201  13
## 
## $`2013 Ejections`
## [1] 180  13
## 
## $`2012 Ejections`
## [1] 179  13
## 
## $`2011 Ejections`
## [1] 199  13
## 
## $`2010 Ejections`
## [1] 204  13
## 
## $`2009 Ejections`
## [1] 165  13
## 
## $`2008 Ejections`
## [1] 208  13</code></pre>
<pre class="r"><code>ejections &lt;- bind_rows(ejections)

ejections$Date &lt;- ymd(ejections$Date)
ejections$Year &lt;- year(ejections$Date)

ggplot(ejections, aes(x = Year)) +
  geom_bar() +
  scale_x_discrete(labels = c(2008:2017)) +
  coord_flip()</code></pre>
<p><img src="/post/mlb-ejections_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>ejections %&gt;%
  group_by(Team) %&gt;%
  count() %&gt;%
  arrange(desc(n))</code></pre>
<pre><code>## # A tibble: 34 x 2
## # Groups:   Team [34]
##    Team      n
##    &lt;chr&gt; &lt;int&gt;
##  1 BOS      95
##  2 TOR      94
##  3 DET      90
##  4 LAD      89
##  5 ATL      82
##  6 TB       75
##  7 CWS      74
##  8 PIT      74
##  9 TEX      71
## 10 NYY      68
## # ... with 24 more rows</code></pre>
<pre class="r"><code>ejections$Team &lt;-
  fct_recode(ejections$Team, FLA = &quot;MIA&quot;, AZ = &quot;ARI&quot;, FL = &quot;MIA&quot;, WAS = &quot;WSH&quot;)</code></pre>
</div>
